(function(){function e(a,b){var c=document.createElement(a);if(b)for(var d in b)c.setAttribute(d,b[d]);for(d=2;d<arguments.length;++d)c.appendChild(arguments[d]);return c}function h(a,b){if("string"===typeof a||"number"===typeof a)return document.createTextNode(a);a.appendChild(document.createTextNode(b));return a}function w(a){for(var b=[],c=1;c<arguments.length;++c)b=b.concat(arguments[c].split(/\s+/));if(a.classList)for(c in b)a.classList.add(b[c]);else b=a.className.split(/\s+/).concat(b),a.className=b.join(" ");return a}function s(a,b,c){var d="on"+b;if(a.addEventListener)return a.addEventListener(b,c,!1);if(a.attachEvent)return a.attachEvent(d,c);if(d in a)return a[d]=c}function x(a){for(var b=1;b<arguments.length;++b){var c=arguments[b],d;for(d in c)a[d]=c[d]}return a}function t(a,b){var c=Array.prototype.slice.call(arguments).slice(2);return function(){a.apply(b||this,c.concat(Array.prototype.slice.call(arguments)))}}function y(a){return"[object Array]"===Object.prototype.toString.call(a)?"array":"[object Error]"===Object.prototype.toString.call(a)?"error":null===a?"null":a&&1==a.nodeType?"element":typeof a}function p(a,b){var c=y(a);switch(c){case "null":case "undefined":return e("span",{"class":c},h(c));case "array":var d=e("ol",{"class":c}),f;for(f in a)c=a[f],d.appendChild(e("li",null,p(c)));return d;case "object":f=e("dl",{"class":c});for(d in a)d in a.__proto__||(c=!1===b?h(d):p(a[d],!1),f.appendChild(e("dt",null,h(d))),f.appendChild(e("dd",null,c)));return f;case "element":f=a.nodeName.toLowerCase();var d=e("dl"),g=e("div",{"class":"open"},h(f),d),m=e("div",{"class":"close"},h(f)),n=e("div",{"class":"content"},h(a.innerHTML));for(f=0;f<a.attributes.length;++f){var l=a.attributes[f];d.appendChild(e("dt",null,h(l.name)));d.appendChild(e("dd",null,h(l.value)))}return e("div",{"class":c},g,n,m);default:return e("span",{"class":c},h(a.toString()))}}var z={},A=function(){var a=-1,b=[];return x(this,{clear:function(){b=[]},reset:function(){a=b.length},previous:function(){return b[a=Math.max(--a,0)]},next:function(){return b[a=Math.min(++a,b.length)]},push:function(a){b[b.length-1]!==a&&(b.push(a),this.reset())}})},u=function(a,b){function c(a){var b=2===arguments.length?arguments[1]:Array.prototype.slice.call(arguments).slice(1),c=e("div",{"class":"result"},p(b)),b=w(e("p",null,c),y(b),a);l.insertBefore(b,q);return b}function d(a){if(a){var b=h(e("div",{"class":"command"}),a),d="info",f;try{f=function(){with(m)return eval(a)}.call(m)}catch(g){f=g,d="error"}d=c(d,f);d.insertBefore(b,d.childNodes[0]);d.scrollTop=d.scrollHeight;l.scrollTop=l.scrollHeight;r.push(a)}}var f={commandSupport:!0,scope:window};if("object"==typeof b)for(var g in b)f[g]=b[g];"string"==typeof a&&(a=document.getElementById(a));var m=f.scope;if(g=z[a])return g.cd(m),g;if(!(this instanceof u))return g||(g=new u(a,b)),g;z[a]=this;for(var n=e("div");node=a.childNodes[0];)n.appendChild(node);var l=e("div",{"class":"console-container"}),q=e("p",{"class":"console-input"}),v={className:a.className,tabIndex:a.tabIndex},k;k=f.commandSupport?e("textarea",{row:1}):e("textarea",{row:1,disabled:"disabled"});q.appendChild(k);l.appendChild(q);w(a,"console").appendChild(l);0>a.tabIndex&&(a.tabIndex=0);s(a,"focus",function(){k.focus()});var r=new A;s(k,"keydown",function(a){switch(a.keyCode){case 13:return a.preventDefault(),d(this.value),this.value="",!1;case 38:if(cmd=r.previous())k.value=cmd;a.preventDefault();return!1;case 40:return(cmd=r.next())?k.value=cmd:k.value="",a.preventDefault(),!1}});s(k,"blur",function(){r.reset()});    return x(this,{cd:function(a){m=a},log:function(){this.info.apply(this,arguments)},info:t(c,this,"info"),warn:t(c,this,"warn"),error:t(c,this,"error"),clear:function(){for(var a=q.previousSibling;a;){var b=a,a=b.previousSibling;b.parentNode.removeChild(b)}},destroy:function(){for(var b in v)a[b]=v[b];for(;node=a.childNodes[0];)a.removeChild(node);for(;node=n.childNodes[0];)a.appendChild(node);delete n;delete p;delete k;delete v}})};window.Console=u})();